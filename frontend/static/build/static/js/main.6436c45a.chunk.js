(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{169:function(e,t,a){e.exports=a(394)},174:function(e,t,a){},391:function(e,t,a){},392:function(e){e.exports=JSON.parse('[{"featureType":"administrative","elementType":"labels.text.fill","stylers":[{"color":"#444444"}]},{"featureType":"landscape","elementType":"all","stylers":[{"lightness":"0"},{"weight":"0.01"}]},{"featureType":"landscape.man_made","elementType":"all","stylers":[{"saturation":"0"}]},{"featureType":"landscape.natural","elementType":"all","stylers":[{"lightness":"0"}]},{"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"all","stylers":[{"saturation":-100},{"lightness":45},{"visibility":"simplified"}]},{"featureType":"road","elementType":"geometry","stylers":[{"color":"#d2d2d2"},{"weight":"1.00"}]},{"featureType":"road","elementType":"labels","stylers":[{"lightness":"0"},{"weight":"3.00"}]},{"featureType":"road","elementType":"labels.text","stylers":[{"color":"#0f2739"},{"weight":"2.00"}]},{"featureType":"road","elementType":"labels.text.stroke","stylers":[{"color":"#ffffff"}]},{"featureType":"road.highway","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"road.arterial","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"road.local","elementType":"all","stylers":[{"visibility":"simplified"},{"weight":"2.00"}]},{"featureType":"transit","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"all","stylers":[{"color":"#6aa5b1"},{"visibility":"on"}]}]')},393:function(e,t,a){},394:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(69),o=a.n(l),i=(a(174),a(34)),s=a(5),c=a(6),u=a(8),h=a(7),p=a(3),m=a(9),d=a(1),f=a.n(d);f.a.defaults.xsrfCookieName="csrftoken",f.a.defaults.xsrfHeaderName="X-CSRFToken";var g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={username:"",email:"",password:""},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),f.a.post("/api/v1/rest-auth/login/",this.state).then((function(e){localStorage.setItem("my-app-user",JSON.stringify(e.data)),console.log("local storage",localStorage),t.props.history.push("/profile/")})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(i.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{id:"username",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,placeholder:"Enter username",required:!0})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{id:"email",type:"email",name:"email",value:this.state.email,onChange:this.handleChange,placeholder:"Enter email",required:!0})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{id:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,placeholder:"Enter password",required:!0})),r.a.createElement("button",null,"Login"),r.a.createElement("a",{href:"/"},"Back"))}}]),t}(n.Component);f.a.defaults.xsrfCookieName="csrftoken",f.a.defaults.xsrfHeaderName="X-CSRFToken";var v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={username:"",email:"",password1:"",password2:""},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),f.a.post("/api/v1/rest-auth/registration/",this.state).then((function(e){localStorage.setItem("my-app-user",JSON.stringify(e.data)),t.props.history.push("/profile/create/")})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(i.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{id:"username",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,placeholder:"Enter username",required:!0})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{id:"email",type:"email",name:"email",value:this.state.email,onChange:this.handleChange,placeholder:"Enter email",required:!0})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{id:"password",type:"password",name:"password1",value:this.state.password,onChange:this.handleChange,placeholder:"Enter password",required:!0})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"password"},"Password 2"),r.a.createElement("input",{id:"password2",type:"password",name:"password2",value:this.state.password2,onChange:this.handleChange,placeholder:"Enter password again",required:!0})),r.a.createElement("button",null,"Sign Up"),r.a.createElement("a",{href:"/"},"Back"))}}]),t}(n.Component);f.a.defaults.xsrfCookieName="csrftoken",f.a.defaults.xsrfHeaderName="X-CSRFToken";var b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).choiceForm=function(e,t){for(var n in a.state.highlights)console.log(a.state.highlights);return t[e]},a.state={name:"",avatar:null,preview:"",profile:[],created_by:"",kid_friendly:!1,outdoor_seating:!1,vegetarian_friendly:!1,gluten_free_options:!1,farm_to_table:!1,serves_alcohol:!1,fullbar:!1,waterfront:!1},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleCheckboxChange=a.handleCheckboxChange.bind(Object(p.a)(a)),a.handleAvatarChange=a.handleAvatarChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(i.a)({},e.target.name,e.target.value))}},{key:"handleCheckboxChange",value:function(e){this.setState(Object(i.a)({},e.target.name,e.target.checked))}},{key:"handleAvatarChange",value:function(e){var t=this,a=e.target.files[0];this.setState({avatar:a});var n=new FileReader;n.onloadend=function(){t.setState({preview:n.result})},n.readAsDataURL(a)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={kid_friendly:"Kid Friendly",outdoor_seating:"Outdoor Seating",vegetarian_friendly:"Vegetarian Friendly",gluten_free_options:"Gluten Free Options",farm_to_table:"Farm-to-Table",serves_alcohol:"Serves Alcohol",fullbar:"Fullbar",waterfront:"Waterfront"},n=new FormData,r=this.state,l=[];for(var o in a)!0===r[o]&&l.push(a[o]);n.append("name",this.state.name),n.append("avatar",this.state.avatar),n.append("highlights",l),console.log(l),f.a.post("/api/v1/profile/create/",n,{headers:{"content-type":"multipart/form-data"}}).then((function(e){console.log(e),t.props.history.push("/")})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;f.a.get("/api/v1/profile/create/").then((function(t){console.log(t),e.setState({profile:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return console.log(this.state),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"aside-content"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",null,"Create Your Profile"),r.a.createElement("p",null,"Enter Your Name"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),r.a.createElement("p",null,"Add a picture!"),this.state.avatar?r.a.createElement("img",{src:this.state.preview,alt:"preview"}):r.a.createElement("input",{type:"file",name:"avatar",onChange:this.handleAvatarChange}),r.a.createElement("p",null,"Highlights"),r.a.createElement("p",null,"Kid Friendly"),r.a.createElement("input",{type:"checkbox",name:"kid_friendly",value:this.state.kid_friendly,onChange:this.handleCheckboxChange}),r.a.createElement("p",null,"Outdoor Seating"),r.a.createElement("input",{type:"checkbox",name:"outdoor_seating",value:this.state.outdoor_seating,onChange:this.handleCheckboxChange}),r.a.createElement("p",null,"Vegetarian Friendly"),r.a.createElement("input",{type:"checkbox",name:"vegetarian_friendly",value:this.state.vegetarian_friendly,onChange:this.handleCheckboxChange}),r.a.createElement("p",null,"Gluten Free Option"),r.a.createElement("input",{type:"checkbox",name:"gluten_free_options",value:this.state.gluten_free_options,onChange:this.handleCheckboxChange}),r.a.createElement("p",null,"Farm-to-Table"),r.a.createElement("input",{type:"checkbox",name:"farm_to_table",value:this.state.farm_to_table,onChange:this.handleCheckboxChange}),r.a.createElement("p",null,"Serves Alcohol"),r.a.createElement("input",{type:"checkbox",name:"serves_alcohol",value:this.state.serves_alcohol,onChange:this.handleCheckboxChange}),r.a.createElement("p",null,"Fullbar"),r.a.createElement("input",{type:"checkbox",name:"fullbar",value:this.state.fullbar,onChange:this.handleCheckboxChange}),r.a.createElement("p",null,"Waterfront"),r.a.createElement("input",{type:"checkbox",name:"waterfront",value:this.state.waterfront,onChange:this.handleCheckboxChange}),r.a.createElement("button",null,"Save"))))}}]),t}(n.Component),y=a(168),E=a(30);f.a.defaults.xsrfCookieName="csrftoken",f.a.defaults.xsrfHeaderName="X-CSRFToken",f.a.defaults.headers.common.Authorization=localStorage.getItem("my-app-user")?"Token ".concat(JSON.parse(localStorage.getItem("my-app-user")).token):null;var C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).logout=function(){f.a.post("/api/v1/rest-auth/logout/"),localStorage.removeItem("my-app-user"),a.setState({navigate:!0})},a.deactivate=function(){f.a.patch("/api/v1/profile/".concat(a.state.profile.id,"/"),{is_active:!1}),a.setState({is_active:!1}),a.props.history.push("/")},a.state={profile:{},is_active:"",navigate:!1,avatar:"",preview:""},a.deactivate=a.deactivate.bind(Object(p.a)(a)),a.handleAvatarUpdate=a.handleAvatarUpdate.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("/api/v1/profile/detail/",{headers:{Authorization:"Token ".concat(JSON.parse(localStorage.getItem("my-app-user")).token)}}).then((function(t){e.setState({profile:t.data[0]})})).catch((function(e){console.log(e)}))}},{key:"handleAvatarUpdate",value:function(e){var t=this,a=e.target.files[0];this.setState({avatar:a});var n=new FileReader;n.onloadend=function(){t.setState({preview:n.result})},n.readAsDataURL(a)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=new FormData;a.append("avatar",this.state.avatar),f.a.patch("/api/v1/profile/".concat(this.state.profile.id,"/"),a,{headers:{"content-type":"multipart/form-data"}}).then((function(e){var a=Object(y.a)(t.state.profile);t.setState({profile:a,name:"",preview:null,image:null,created_by:"",is_active:!0}),t.props.history.push("/")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.navigate?r.a.createElement(E.a,{to:"/",push:!0}):(console.log(this.state.profile),r.a.createElement("section",{className:"aside-content"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",null,this.state.profile.name),this.state.avatar?r.a.createElement("img",{src:this.state.profile.preview,alt:"preview"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:this.state.profile.avatar,alt:""}),r.a.createElement("input",{type:"file",name:"avatar",onChange:this.handleAvatarUpdate})),r.a.createElement("p",null,"Prefences Place Holder"),r.a.createElement("p",null,this.state.profile.highlights),r.a.createElement("button",null,"Save")),r.a.createElement("a",{href:"/"},"Back"),r.a.createElement("button",{onClick:this.deactivate},"Deactivate Account"),r.a.createElement("button",{onClick:this.logout},"Log Out")))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={newrestaurant:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(e){this.setState({newrestaurant:this.props.restaurant}),console.log(this.props.restaurant)}},{key:"render",value:function(e,t){return r.a.createElement("div",null,r.a.createElement("h2",null,this.props.restaurant.restaurant.name),r.a.createElement("p",null,this.props.restaurant.restaurant.cuisines),r.a.createElement("p",null,this.props.restaurant.restaurant.timings))}}]),t}(n.Component),S=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Shut Up & Eat"),r.a.createElement("a",{href:"/login/"},"Sign In"),r.a.createElement("a",{href:"/signup/"},"Sign up"),localStorage.getItem("my-app-user")?r.a.createElement("a",{href:"/profile/"},"Profile"):null)}}]),t}(n.Component),O=a(44),w=(a(391),n.Component,a(392)),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={restaurantLocation:{lat:32,lng:32},userLocation:{lat:32,lng:32},loading:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(e){var t=this;navigator.geolocation.getCurrentPosition((function(e){var a=e.coords,n=a.latitude,r=a.longitude;t.setState({userLocation:{lat:n,lng:r},loading:!1}),console.log(t.state.userLocation)}),(function(){t.setState({loading:!1})}))}},{key:"render",value:function(){console.log("map props",this.state.restaurantLocation,this.state.userLocation);var e=this.state,t=e.loading,a=e.userLocation,n=e.restaurantLocation;return t?null:(console.log("userLocation",a),console.log("restaurantLocation",n),r.a.createElement(O.GoogleMap,{defaultZoom:15,defaultCenter:a,defaultOptions:{disableDefaultUI:!0,draggable:!0,keyboardShortcuts:!1,scaleControl:!0,scrollwheel:!0,styles:w}},r.a.createElement(O.Marker,{position:a}),r.a.createElement(O.Marker,{position:n})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{restaurantLocation:{lat:e.restaurantLocation.lat,lng:e.restaurantLocation.lng}}}}]),t}(n.Component),T=Object(O.withScriptjs)(Object(O.withGoogleMap)(j));function x(e){return console.log("wrapped map",e),r.a.createElement("div",{className:"map"},r.a.createElement(T,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyBm5r5sZESK6Jo8pWiLFjkGvpGJ010ED9I",loadingElement:r.a.createElement("div",{style:{height:"100% "}}),containerElement:r.a.createElement("div",{style:{height:"100% "}}),mapElement:r.a.createElement("div",{style:{height:"100% "}}),restaurantLocation:e.restaurantLocation}))}a(393);var _=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={userCoords:null,restaurant:null,restaurantSelected:!1,profile:{},start:0},a.randomGenerator=a.randomGenerator.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(e){var t=this;navigator.geolocation.getCurrentPosition((function(e){var a=e.coords,n=a.latitude,r=a.longitude;t.setState({userCoords:{lat:n,lng:r}})}))}},{key:"randomGenerator",value:function(){var e=this;f.a.get("https://developers.zomato.com/api/v2.1/search?lat=".concat(this.state.userCoords.lat,"&lon=").concat(this.state.userCoords.lng,"&start=").concat(this.state.start,"&count=20&radius=8000&apikey=5ff1c6015f3549f838e7d3a54deb7e8f")).then((function(t){var a=t.data.restaurants[Math.floor(Math.random()*t.data.restaurants.length)];e.setState({restaurant:a,start:e.state.start+20}),console.log(e.state.restaurant),e.setState({restaurantSelected:!0})})).catch((function(e){console.log(e)})),console.log("randomGenerate is firing")}},{key:"render",value:function(){return console.log(localStorage),r.a.createElement("div",{className:"row"},r.a.createElement(x,{restaurantLocation:this.state.restaurant?{lat:Number(this.state.restaurant.restaurant.location.latitude),lng:Number(this.state.restaurant.restaurant.location.longitude)}:{lat:32,lng:32}}),r.a.createElement("aside",null,this.props.children,60===this.state.start?r.a.createElement("p",null,"Stop being picky! Shut up and Eat here!"):r.a.createElement("button",{type:"button",onClick:this.randomGenerator},"Random Generator"),this.state.restaurantSelected?r.a.createElement(k,{restaurant:this.state.restaurant}):null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(96);o.a.render(r.a.createElement(F.a,null,r.a.createElement(_,null,r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/restaurant/",component:k}),r.a.createElement(E.b,{path:"/profile/create/",component:b}),r.a.createElement(E.b,{path:"/profile/",component:C}),r.a.createElement(E.b,{path:"/login/",component:g}),r.a.createElement(E.b,{path:"/signup/",component:v}),r.a.createElement(E.b,{exact:!0,path:"/",component:S}))),r.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossOrigin:"anonymous"})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[169,1,2]]]);
//# sourceMappingURL=main.6436c45a.chunk.js.map